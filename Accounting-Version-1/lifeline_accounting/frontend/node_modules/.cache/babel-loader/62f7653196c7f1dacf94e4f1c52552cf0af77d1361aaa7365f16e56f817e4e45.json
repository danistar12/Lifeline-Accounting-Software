{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = [\"value\"];\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", null, \"Deductions\", -1 /* CACHED */)), _createCommentVNode(\" Add deduction form \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.addDeduction && $options.addDeduction(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newDeduction.paystub = $event),\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.paystubs, paystub => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: paystub.paystub_id,\n      value: paystub.paystub_id\n    }, _toDisplayString(paystub.paystub_id), 9 /* TEXT, PROPS */, _hoisted_1);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newDeduction.paystub]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newDeduction.deduction_name = $event),\n    placeholder: \"Deduction Name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newDeduction.deduction_name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newDeduction.deduction_amount = $event),\n    placeholder: \"Deduction Amount\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newDeduction.deduction_amount]]), _cache[4] || (_cache[4] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Add Deduction\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Deductions table \"), _createElementVNode(\"table\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Paystub\"), _createElementVNode(\"th\", null, \"Deduction Name\"), _createElementVNode(\"th\", null, \"Deduction Amount\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.deductions, deduction => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: deduction.deduction_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(deduction.paystub), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(deduction.deduction_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(deduction.deduction_amount), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editDeduction(deduction)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_2), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteDeduction(deduction.deduction_id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_3)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","addDeduction","$data","newDeduction","paystub","$event","required","_Fragment","_renderList","paystubs","key","paystub_id","value","_hoisted_1","deduction_name","placeholder","deduction_amount","type","deductions","deduction","deduction_id","_toDisplayString","onClick","editDeduction","_hoisted_2","deleteDeduction","_hoisted_3"],"sources":["C:\\Users\\ds3297l\\Desktop\\Accountint Software\\Design 2\\lifeline_accounting\\frontend\\src\\views\\payroll\\Deductions.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Deductions</h1>\r\n    <!-- Add deduction form -->\r\n    <form @submit.prevent=\"addDeduction\">\r\n      <select v-model=\"newDeduction.paystub\" required>\r\n        <option v-for=\"paystub in paystubs\" :key=\"paystub.paystub_id\" :value=\"paystub.paystub_id\">{{ paystub.paystub_id }}</option>\r\n      </select>\r\n      <input v-model=\"newDeduction.deduction_name\" placeholder=\"Deduction Name\" required>\r\n      <input v-model=\"newDeduction.deduction_amount\" placeholder=\"Deduction Amount\" required>\r\n      <button type=\"submit\">Add Deduction</button>\r\n    </form>\r\n\r\n    <!-- Deductions table -->\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Paystub</th>\r\n          <th>Deduction Name</th>\r\n          <th>Deduction Amount</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"deduction in deductions\" :key=\"deduction.deduction_id\">\r\n          <td>{{ deduction.paystub }}</td>\r\n          <td>{{ deduction.deduction_name }}</td>\r\n          <td>{{ deduction.deduction_amount }}</td>\r\n          <td>\r\n            <button @click=\"editDeduction(deduction)\">Edit</button>\r\n            <button @click=\"deleteDeduction(deduction.deduction_id)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      deductions: [],\r\n      paystubs: [],\r\n      newDeduction: {\r\n        paystub: '',\r\n        deduction_name: '',\r\n        deduction_amount: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    fetchDeductions() {\r\n      axios.get('/api/payroll/deductions/')\r\n        .then(response => {\r\n          this.deductions = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching deductions:', error);\r\n        });\r\n    },\r\n    fetchPaystubs() {\r\n      axios.get('/api/payroll/paystubs/')\r\n        .then(response => {\r\n          this.paystubs = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching paystubs:', error);\r\n        });\r\n    },\r\n    addDeduction() {\r\n      axios.post('/api/payroll/deductions/', this.newDeduction)\r\n        .then(response => {\r\n          this.deductions.push(response.data);\r\n          this.newDeduction = { paystub: '', deduction_name: '', deduction_amount: '' };\r\n        })\r\n        .catch(error => {\r\n          console.error('Error adding deduction:', error);\r\n        });\r\n    },\r\n    editDeduction(deduction) {\r\n      // Implementation for editing a deduction\r\n    },\r\n    deleteDeduction(deductionId) {\r\n      axios.delete(`/api/payroll/deductions/${deductionId}/`)\r\n        .then(() => {\r\n          this.deductions = this.deductions.filter(deduction => deduction.deduction_id !== deductionId);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error deleting deduction:', error);\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchDeductions();\r\n    this.fetchPaystubs();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\nth, td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\nth {\r\n  background-color: #f2f2f2;\r\n}\r\n</style>\r\n"],"mappings":";;;;;uBACEA,mBAAA,CAkCM,c,0BAjCJC,mBAAA,CAAmB,YAAf,YAAU,qBACdC,mBAAA,wBAA2B,EAC3BD,mBAAA,CAOO;IAPAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;sBACjCL,mBAAA,CAES;+DAFQQ,KAAA,CAAAC,YAAY,CAACC,OAAO,GAAAC,MAAA;IAAEC,QAAQ,EAAR;yBACrCb,mBAAA,CAA2Hc,SAAA,QAAAC,WAAA,CAAjGN,KAAA,CAAAO,QAAQ,EAAnBL,OAAO;yBAAtBX,mBAAA,CAA2H;MAAtFiB,GAAG,EAAEN,OAAO,CAACO,UAAU;MAAGC,KAAK,EAAER,OAAO,CAACO;wBAAeP,OAAO,CAACO,UAAU,wBAAAE,UAAA;2EADhGX,KAAA,CAAAC,YAAY,CAACC,OAAO,E,mBAGrCV,mBAAA,CAAmF;+DAAnEQ,KAAA,CAAAC,YAAY,CAACW,cAAc,GAAAT,MAAA;IAAEU,WAAW,EAAC,gBAAgB;IAACT,QAAQ,EAAR;iDAA1DJ,KAAA,CAAAC,YAAY,CAACW,cAAc,E,mBAC3CpB,mBAAA,CAAuF;+DAAvEQ,KAAA,CAAAC,YAAY,CAACa,gBAAgB,GAAAX,MAAA;IAAEU,WAAW,EAAC,kBAAkB;IAACT,QAAQ,EAAR;iDAA9DJ,KAAA,CAAAC,YAAY,CAACa,gBAAgB,E,6BAC7CtB,mBAAA,CAA4C;IAApCuB,IAAI,EAAC;EAAQ,GAAC,eAAa,oB,4BAGrCtB,mBAAA,sBAAyB,EACzBD,mBAAA,CAoBQ,gB,0BAnBNA,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAgB,YAAZ,SAAO,GACXA,mBAAA,CAAuB,YAAnB,gBAAc,GAClBA,mBAAA,CAAyB,YAArB,kBAAgB,GACpBA,mBAAA,CAAgB,YAAZ,SAAO,E,uBAGfA,mBAAA,CAUQ,iB,kBATND,mBAAA,CAQKc,SAAA,QAAAC,WAAA,CARmBN,KAAA,CAAAgB,UAAU,EAAvBC,SAAS;yBAApB1B,mBAAA,CAQK;MARgCiB,GAAG,EAAES,SAAS,CAACC;QAClD1B,mBAAA,CAAgC,YAAA2B,gBAAA,CAAzBF,SAAS,CAACf,OAAO,kBACxBV,mBAAA,CAAuC,YAAA2B,gBAAA,CAAhCF,SAAS,CAACL,cAAc,kBAC/BpB,mBAAA,CAAyC,YAAA2B,gBAAA,CAAlCF,SAAS,CAACH,gBAAgB,kBACjCtB,mBAAA,CAGK,aAFHA,mBAAA,CAAuD;MAA9C4B,OAAK,EAAAjB,MAAA,IAAEL,QAAA,CAAAuB,aAAa,CAACJ,SAAS;OAAG,MAAI,iBAAAK,UAAA,GAC9C9B,mBAAA,CAAwE;MAA/D4B,OAAK,EAAAjB,MAAA,IAAEL,QAAA,CAAAyB,eAAe,CAACN,SAAS,CAACC,YAAY;OAAG,QAAM,iBAAAM,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}